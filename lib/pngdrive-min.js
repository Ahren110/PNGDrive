(function(b){function X(Z,aa,Y){return aa<=Z&&Z<=Y}function W(Z,Y){return Math.floor(Z/Y)}var a=-1;var B=-1;function G(Y){var Z=0;return{get:function(){return(Z>=Y.length)?a:Number(Y[Z])},offset:function(aa){Z+=aa;if(Z<0){throw new Error("Seeking past start of the buffer")}if(Z>Y.length){throw new Error("Seeking past EOF")}},match:function(ab){if(ab.length>Z+Y.length){return false}var aa;for(aa=0;aa<ab.length;aa+=1){if(Number(Y[Z+aa])!==ab[aa]){return false}}return true}}}function l(Y){var Z=0;return{emit:function(ac){var ab=a;var aa;for(aa=0;aa<arguments.length;++aa){ab=Number(arguments[aa]);Y[Z++]=ab}return ab}}}function p(Y){var aa=0;var Z=(function(){var af=[];var ad=0,ah=Y.length;while(ad<Y.length){var ag=Y.charCodeAt(ad);if(!X(ag,55296,57343)){af.push(ag)}else{if(X(ag,56320,57343)){af.push(65533)}else{if(ad===ah-1){af.push(65533)}else{var ae=Y.charCodeAt(ad+1);if(X(ae,56320,57343)){var ac=ag&1023;var ab=ae&1023;ad+=1;af.push(65536+(ac<<10)+ab)}else{af.push(65533)}}}}ad+=1}return af}());return{offset:function(ab){aa+=ab;if(aa<0){throw new Error("Seeking past start of the buffer")}if(aa>Z.length){throw new Error("Seeking past EOF")}},get:function(){if(aa>=Z.length){return B}return Z[aa]}}}function s(){var Y="";return{string:function(){return Y},emit:function(Z){if(Z<=65535){Y+=String.fromCharCode(Z)}else{Z-=65536;Y+=String.fromCharCode(55296+((Z>>10)&1023));Y+=String.fromCharCode(56320+(Z&1023))}}}}function c(Z,Y){if(Z){throw new Error("EncodingError")}return Y||65533}function y(Y){throw new Error("EncodingError")}function K(Y){Y=String(Y).trim().toLowerCase();if(Object.prototype.hasOwnProperty.call(R,Y)){return R[Y]}throw new Error("EncodingError: Unknown encoding: "+Y)}var u=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"utf-8"}],heading:"The Encoding"},{encodings:[{labels:["cp864","ibm864"],name:"ibm864"},{labels:["cp866","ibm866"],name:"ibm866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso_8859-2","l2","latin2"],name:"iso-8859-2"},{labels:["csisolatin3","iso-8859-3","iso_8859-3","iso-ir-109","l3","latin3"],name:"iso-8859-3"},{labels:["csisolatin4","iso-8859-4","iso_8859-4","iso-ir-110","l4","latin4"],name:"iso-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso_8859-5","iso-ir-144"],name:"iso-8859-5"},{labels:["arabic","csisolatinarabic","ecma-114","iso-8859-6","iso_8859-6","iso-ir-127"],name:"iso-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso_8859-7","iso-ir-126"],name:"iso-8859-7"},{labels:["csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-i","iso-ir-138","iso_8859-8","visual"],name:"iso-8859-8"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","l6","latin6"],name:"iso-8859-10"},{labels:["iso-8859-13"],name:"iso-8859-13"},{labels:["iso-8859-14","iso8859-14"],name:"iso-8859-14"},{labels:["iso-8859-15","iso_8859-15"],name:"iso-8859-15"},{labels:["iso-8859-16"],name:"iso-8859-16"},{labels:["koi8-r","koi8_r"],name:"koi8-r"},{labels:["koi8-u"],name:"koi8-u"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["iso-8859-11","tis-620","windows-874"],name:"windows-874"},{labels:["windows-1250","x-cp1250"],name:"windows-1250"},{labels:["windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ascii","ansi_x3.4-1968","csisolatin1","iso-8859-1","iso8859-1","iso_8859-1","l1","latin1","us-ascii","windows-1252"],name:"windows-1252"},{labels:["cp1253","windows-1253"],name:"windows-1253"},{labels:["csisolatin5","iso-8859-9","iso-ir-148","l5","latin5","windows-1254"],name:"windows-1254"},{labels:["cp1255","windows-1255"],name:"windows-1255"},{labels:["cp1256","windows-1256"],name:"windows-1256"},{labels:["windows-1257"],name:"windows-1257"},{labels:["cp1258","windows-1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gbk","gb_2312","gb_2312-80","iso-ir-58","x-gbk"],name:"gbk"},{labels:["gb18030"],name:"gb18030"},{labels:["hz-gb-2312"],name:"hz-gb-2312"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"euc-jp"},{labels:["csiso2022jp","iso-2022-jp"],name:"iso-2022-jp"},{labels:["csshiftjis","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"shift_jis"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"euc-kr"},{labels:["csiso2022kr","iso-2022-kr"],name:"iso-2022-kr"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["utf-16","utf-16le"],name:"utf-16"},{labels:["utf-16be"],name:"utf-16be"}],heading:"Legacy utf-16 encodings"}];u.push({encodings:[{name:"binary",labels:["binary"]}],heading:"Utility encodings"});var z={};var R={};u.forEach(function(Y){Y.encodings.forEach(function(Z){z[Z.name]=Z;Z.labels.forEach(function(aa){R[aa]=Z})})});function D(Z,Y){return(Y||[])[Z]||null}function r(Z,Y){var aa=Y.indexOf(Z);return aa===-1?null:aa}var f=b["encoding-indexes"]||{};function C(ad){if((ad>39419&&ad<189000)||(ad>1237575)){return null}var ac=0,aa=0,Y=f.gb18030;var Z;for(Z=0;Z<Y.length;++Z){var ab=Y[Z];if(ab[0]<=ad){ac=ab[0];aa=ab[1]}else{break}}return aa+ad-ac}function n(ab){var ad=0,aa=0,Y=f.gb18030;var Z;for(Z=0;Z<Y.length;++Z){var ac=Y[Z];if(ac[1]<=ab){ad=ac[1];aa=ac[0]}else{break}}return aa+ab-ad}function Q(Y){var ac=Y.fatal;var aa=0,ad=0,Z=0,ab=0;this.decode=function(ae){var ah=ae.get();if(ah===a){if(ad!==0){return c(ac)}return B}ae.offset(1);if(ad===0){if(X(ah,0,127)){return ah}if(X(ah,194,223)){ad=1;ab=128;aa=ah-192}else{if(X(ah,224,239)){ad=2;ab=2048;aa=ah-224}else{if(X(ah,240,244)){ad=3;ab=65536;aa=ah-240}else{return c(ac)}}}aa=aa*Math.pow(64,ad);return null}if(!X(ah,128,191)){aa=0;ad=0;Z=0;ab=0;ae.offset(-1);return c(ac)}Z+=1;aa=aa+(ah-128)*Math.pow(64,ad-Z);if(Z!==ad){return null}var af=aa;var ag=ab;aa=0;ad=0;Z=0;ab=0;if(X(af,ag,1114111)&&!X(af,55296,57343)){return af}return c(ac)}}function w(Y){var Z=Y.fatal;this.encode=function(ag,ab){var ad=ab.get();if(ad===B){return a}ab.offset(1);if(X(ad,55296,57343)){return y(ad)}if(X(ad,0,127)){return ag.emit(ad)}var ae,af;if(X(ad,128,2047)){ae=1;af=192}else{if(X(ad,2048,65535)){ae=2;af=224}else{if(X(ad,65536,1114111)){ae=3;af=240}}}var aa=ag.emit(W(ad,Math.pow(64,ae))+af);while(ae>0){var ac=W(ad,Math.pow(64,ae-1));aa=ag.emit(128+(ac%64));ae-=1}return aa}}z["utf-8"].getEncoder=function(Y){return new w(Y)};z["utf-8"].getDecoder=function(Y){return new Q(Y)};function m(Z,Y){var aa=Y.fatal;this.decode=function(ab){var ad=ab.get();if(ad===a){return B}ab.offset(1);if(X(ad,0,127)){return ad}var ac=Z[ad-128];if(ac===null){return c(aa)}return ac}}function O(Z,Y){var aa=Y.fatal;this.encode=function(ae,ab){var ac=ab.get();if(ac===B){return a}ab.offset(1);if(X(ac,0,127)){return ae.emit(ac)}var ad=r(ac,Z);if(ad===null){y(ac)}return ae.emit(ad+128)}}(function(){["ibm864","ibm866","iso-8859-2","iso-8859-3","iso-8859-4","iso-8859-5","iso-8859-6","iso-8859-7","iso-8859-8","iso-8859-10","iso-8859-13","iso-8859-14","iso-8859-15","iso-8859-16","koi8-r","koi8-u","macintosh","windows-874","windows-1250","windows-1251","windows-1252","windows-1253","windows-1254","windows-1255","windows-1256","windows-1257","windows-1258","x-mac-cyrillic"].forEach(function(Z){var aa=z[Z];var Y=f[Z];aa.getDecoder=function(ab){return new m(Y,ab)};aa.getEncoder=function(ab){return new O(Y,ab)}})}());function N(aa,Z){var ad=Z.fatal;var Y=0,ac=0,ab=0;this.decode=function(ae){var aj=ae.get();if(aj===a&&Y===0&&ac===0&&ab===0){return B}if(aj===a&&(Y!==0||ac!==0||ab!==0)){Y=0;ac=0;ab=0;c(ad)}ae.offset(1);var ag;if(ab!==0){ag=null;if(X(aj,48,57)){ag=C((((Y-129)*10+(ac-48))*126+(ab-129))*10+aj-48)}Y=0;ac=0;ab=0;if(ag===null){ae.offset(-3);return c(ad)}return ag}if(ac!==0){if(X(aj,129,254)){ab=aj;return null}ae.offset(-2);Y=0;ac=0;return c(ad)}if(Y!==0){if(X(aj,48,57)&&aa){ac=aj;return null}var af=Y;var ai=null;Y=0;var ah=aj<127?64:65;if(X(aj,64,126)||X(aj,128,254)){ai=(af-129)*190+(aj-ah)}ag=ai===null?null:D(ai,f.gbk);if(ai===null){ae.offset(-1)}if(ag===null){return c(ad)}return ag}if(X(aj,0,127)){return aj}if(aj===128){return 8364}if(X(aj,129,254)){Y=aj;return null}return c(ad)}}function v(Z,Y){var aa=Y.fatal;this.encode=function(af,ai){var ae=ai.get();if(ae===B){return a}ai.offset(1);if(X(ae,0,127)){return af.emit(ae)}var ab=r(ae,f.gbk);if(ab!==null){var ag=W(ab,190)+129;var ac=ab%190;var ad=ac<63?64:65;return af.emit(ag,ac+ad)}if(ab===null&&!Z){return y(ae)}ab=n(ae);var al=W(W(W(ab,10),126),10);ab=ab-al*10*126*10;var ak=W(W(ab,10),126);ab=ab-ak*10*126;var aj=W(ab,10);var ah=ab-aj*10;return af.emit(al+129,ak+48,aj+129,ah+48)}}z.gbk.getEncoder=function(Y){return new v(false,Y)};z.gbk.getDecoder=function(Y){return new N(false,Y)};z.gb18030.getEncoder=function(Y){return new v(true,Y)};z.gb18030.getDecoder=function(Y){return new N(true,Y)};function o(aa){var ab=aa.fatal;var Z=false,Y=0;this.decode=function(ac){var af=ac.get();if(af===a&&Y===0){return B}if(af===a&&Y!==0){Y=0;return c(ab)}ac.offset(1);if(Y===126){Y=0;if(af===123){Z=true;return null}if(af===125){Z=false;return null}if(af===126){return 126}if(af===10){return null}ac.offset(-1);return c(ab)}if(Y!==0){var ad=Y;Y=0;var ae=null;if(X(af,33,126)){ae=D((ad-1)*190+(af+63),f.gbk)}if(af===10){Z=false}if(ae===null){return c(ab)}return ae}if(af===126){Y=126;return null}if(Z){if(X(af,32,127)){Y=af;return null}if(af===10){Z=false}return c(ab)}if(X(af,0,127)){return af}return c(ab)}}function V(Z){var aa=Z.fatal;var Y=false;this.encode=function(ag,ab){var ae=ab.get();if(ae===B){return a}ab.offset(1);if(X(ae,0,127)&&Y){ab.offset(-1);Y=false;return ag.emit(126,125)}if(ae===126){return ag.emit(126,126)}if(X(ae,0,127)){return ag.emit(ae)}if(!Y){ab.offset(-1);Y=true;return ag.emit(126,123)}var af=r(ae,f.gbk);if(af===null){return y(ae)}var ad=W(af,190)+1;var ac=af%190-63;if(!X(ad,33,126)||!X(ac,33,126)){return y(ae)}return ag.emit(ad,ac)}}z["hz-gb-2312"].getEncoder=function(Y){return new V(Y)};z["hz-gb-2312"].getDecoder=function(Y){return new o(Y)};function J(Z){var ab=Z.fatal;var Y=0,aa=null;this.decode=function(ac){if(aa!==null){var ah=aa;aa=null;return ah}var ai=ac.get();if(ai===a&&Y===0){return B}if(ai===a&&Y!==0){Y=0;return c(ab)}ac.offset(1);if(Y!==0){var ad=Y;var ag=null;Y=0;var af=ai<127?64:98;if(X(ai,64,126)||X(ai,161,254)){ag=(ad-129)*157+(ai-af)}if(ag===1133){aa=772;return 202}if(ag===1135){aa=780;return 202}if(ag===1164){aa=772;return 234}if(ag===1166){aa=780;return 234}var ae=(ag===null)?null:D(ag,f.big5);if(ag===null){ac.offset(-1)}if(ae===null){return c(ab)}return ae}if(X(ai,0,127)){return ai}if(X(ai,129,254)){Y=ai;return null}return c(ab)}}function t(Y){var Z=Y.fatal;this.encode=function(ag,aa){var ad=aa.get();if(ad===B){return a}aa.offset(1);if(X(ad,0,127)){return ag.emit(ad)}var af=r(ad,f.big5);if(af===null){return y(ad)}var ac=W(af,157)+129;var ab=af%157;var ae=ab<63?64:98;return ag.emit(ac,ab+ae)}}z.big5.getEncoder=function(Y){return new t(Y)};z.big5.getDecoder=function(Y){return new J(Y)};function d(Y){var aa=Y.fatal;var Z=0,ab=0;this.decode=function(ac){var af=ac.get();if(af===a){if(Z===0&&ab===0){return B}Z=0;ab=0;return c(aa)}ac.offset(1);var ad,ae;if(ab!==0){ad=ab;ab=0;ae=null;if(X(ad,161,254)&&X(af,161,254)){ae=D((ad-161)*94+af-161,f.jis0212)}if(!X(af,161,254)){ac.offset(-1)}if(ae===null){return c(aa)}return ae}if(Z===142&&X(af,161,223)){Z=0;return 65377+af-161}if(Z===143&&X(af,161,254)){Z=0;ab=af;return null}if(Z!==0){ad=Z;Z=0;ae=null;if(X(ad,161,254)&&X(af,161,254)){ae=D((ad-161)*94+af-161,f.jis0208)}if(!X(af,161,254)){ac.offset(-1)}if(ae===null){return c(aa)}return ae}if(X(af,0,127)){return af}if(af===142||af===143||(X(af,161,254))){Z=af;return null}return c(aa)}}function I(Y){var Z=Y.fatal;this.encode=function(af,aa){var ad=aa.get();if(ad===B){return a}aa.offset(1);if(X(ad,0,127)){return af.emit(ad)}if(ad===165){return af.emit(92)}if(ad===8254){return af.emit(126)}if(X(ad,65377,65439)){return af.emit(142,ad-65377+161)}var ae=r(ad,f.jis0208);if(ae===null){return y(ad)}var ac=W(ae,94)+161;var ab=ae%94+161;return af.emit(ac,ab)}}z["euc-jp"].getEncoder=function(Y){return new I(Y)};z["euc-jp"].getDecoder=function(Y){return new d(Y)};function A(Y){var ab=Y.fatal;var aa={ASCII:0,escape_start:1,escape_middle:2,escape_final:3,lead:4,trail:5,Katakana:6};var ac=aa.ASCII,ad=false,Z=0;this.decode=function(ae){var ai=ae.get();if(ai!==a){ae.offset(1)}switch(ac){default:case aa.ASCII:if(ai===27){ac=aa.escape_start;return null}if(X(ai,0,127)){return ai}if(ai===a){return B}return c(ab);case aa.escape_start:if(ai===36||ai===40){Z=ai;ac=aa.escape_middle;return null}if(ai!==a){ae.offset(-1)}ac=aa.ASCII;return c(ab);case aa.escape_middle:var af=Z;Z=0;if(af===36&&(ai===64||ai===66)){ad=false;ac=aa.lead;return null}if(af===36&&ai===40){ac=aa.escape_final;return null}if(af===40&&(ai===66||ai===74)){ac=aa.ASCII;return null}if(af===40&&ai===73){ac=aa.Katakana;return null}if(ai===a){ae.offset(-1)}else{ae.offset(-2)}ac=aa.ASCII;return c(ab);case aa.escape_final:if(ai===68){ad=true;ac=aa.lead;return null}if(ai===a){ae.offset(-2)}else{ae.offset(-3)}ac=aa.ASCII;return c(ab);case aa.lead:if(ai===10){ac=aa.ASCII;return c(ab,10)}if(ai===27){ac=aa.escape_start;return null}if(ai===a){return B}Z=ai;ac=aa.trail;return null;case aa.trail:ac=aa.lead;if(ai===a){return c(ab)}var ag=null;var ah=(Z-33)*94+ai-33;if(X(Z,33,126)&&X(ai,33,126)){ag=(ad===false)?D(ah,f.jis0208):D(ah,f.jis0212)}if(ag===null){return c(ab)}return ag;case aa.Katakana:if(ai===27){ac=aa.escape_start;return null}if(X(ai,33,95)){return 65377+ai-33}if(ai===a){return B}return c(ab)}}}function j(Y){var aa=Y.fatal;var Z={ASCII:0,lead:1,Katakana:2};var ab=Z.ASCII;this.encode=function(ah,ac){var af=ac.get();if(af===B){return a}ac.offset(1);if((X(af,0,127)||af===165||af===8254)&&ab!==Z.ASCII){ac.offset(-1);ab=Z.ASCII;return ah.emit(27,40,66)}if(X(af,0,127)){return ah.emit(af)}if(af===165){return ah.emit(92)}if(af===8254){return ah.emit(126)}if(X(af,65377,65439)&&ab!==Z.Katakana){ac.offset(-1);ab=Z.Katakana;return ah.emit(27,40,73)}if(X(af,65377,65439)){return ah.emit(af-65377-33)}if(ab!==Z.lead){ac.offset(-1);ab=Z.lead;return ah.emit(27,36,66)}var ag=r(af,f.jis0208);if(ag===null){return y(af)}var ae=W(ag,94)+33;var ad=ag%94+33;return ah.emit(ae,ad)}}z["iso-2022-jp"].getEncoder=function(Y){return new j(Y)};z["iso-2022-jp"].getDecoder=function(Y){return new A(Y)};function S(Y){var aa=Y.fatal;var Z=0;this.decode=function(ab){var ag=ab.get();if(ag===a&&Z===0){return B}if(ag===a&&Z!==0){Z=0;return c(aa)}ab.offset(1);if(Z!==0){var ac=Z;Z=0;if(X(ag,64,126)||X(ag,128,252)){var ae=(ag<127)?64:65;var af=(ac<160)?129:193;var ad=D((ac-af)*188+ag-ae,f.jis0208);if(ad===null){return c(aa)}return ad}ab.offset(-1);return c(aa)}if(X(ag,0,128)){return ag}if(X(ag,161,223)){return 65377+ag-161}if(X(ag,129,159)||X(ag,224,252)){Z=ag;return null}return c(aa)}}function x(Y){var Z=Y.fatal;this.encode=function(ag,aa){var ad=aa.get();if(ad===B){return a}aa.offset(1);if(X(ad,0,128)){return ag.emit(ad)}if(ad===165){return ag.emit(92)}if(ad===8254){return ag.emit(126)}if(X(ad,65377,65439)){return ag.emit(ad-65377+161)}var af=r(ad,f.jis0208);if(af===null){return y(ad)}var ac=W(af,188);var ah=ac<31?129:193;var ab=af%188;var ae=ab<63?64:65;return ag.emit(ac+ah,ab+ae)}}z.shift_jis.getEncoder=function(Y){return new x(Y)};z.shift_jis.getDecoder=function(Y){return new S(Y)};function F(Z){var aa=Z.fatal;var Y=0;this.decode=function(ac){var ag=ac.get();if(ag===a&&Y===0){return B}if(ag===a&&Y!==0){Y=0;return c(aa)}ac.offset(1);if(Y!==0){var ad=Y;var af=null;Y=0;if(X(ad,129,198)){var ab=(26+26+126)*(ad-129);if(X(ag,65,90)){af=ab+ag-65}else{if(X(ag,97,122)){af=ab+26+ag-97}else{if(X(ag,129,254)){af=ab+26+26+ag-129}}}}if(X(ad,199,253)&&X(ag,161,254)){af=(26+26+126)*(199-129)+(ad-199)*94+(ag-161)}var ae=(af===null)?null:D(af,f["euc-kr"]);if(af===null){ac.offset(-1)}if(ae===null){return c(aa)}return ae}if(X(ag,0,127)){return ag}if(X(ag,129,253)){Y=ag;return null}return c(aa)}}function q(Y){var Z=Y.fatal;this.encode=function(ag,aa){var ad=aa.get();if(ad===B){return a}aa.offset(1);if(X(ad,0,127)){return ag.emit(ad)}var af=r(ad,f["euc-kr"]);if(af===null){return y(ad)}var ac,ab;if(af<((26+26+126)*(199-129))){ac=W(af,(26+26+126))+129;ab=af%(26+26+126);var ae=ab<26?65:ab<26+26?71:77;return ag.emit(ac,ab+ae)}af=af-(26+26+126)*(199-129);ac=W(af,94)+199;ab=af%94+161;return ag.emit(ac,ab)}}z["euc-kr"].getEncoder=function(Y){return new q(Y)};z["euc-kr"].getDecoder=function(Y){return new F(Y)};function e(Z){var ac=Z.fatal;var aa={ASCII:0,escape_start:1,escape_middle:2,escape_end:3,lead:4,trail:5};var Y=aa.ASCII,ab=0;this.decode=function(ad){var af=ad.get();if(af!==a){ad.offset(1)}switch(Y){default:case aa.ASCII:if(af===14){Y=aa.lead;return null}if(af===15){return null}if(af===27){Y=aa.escape_start;return null}if(X(af,0,127)){return af}if(af===a){return B}return c(ac);case aa.escape_start:if(af===36){Y=aa.escape_middle;return null}if(af!==a){ad.offset(-1)}Y=aa.ASCII;return c(ac);case aa.escape_middle:if(af===41){Y=aa.escape_end;return null}if(af===a){ad.offset(-1)}else{ad.offset(-2)}Y=aa.ASCII;return c(ac);case aa.escape_end:if(af===67){Y=aa.ASCII;return null}if(af===a){ad.offset(-2)}else{ad.offset(-3)}Y=aa.ASCII;return c(ac);case aa.lead:if(af===10){Y=aa.ASCII;return c(ac,10)}if(af===14){return null}if(af===15){Y=aa.ASCII;return null}if(af===a){return B}ab=af;Y=aa.trail;return null;case aa.trail:Y=aa.lead;if(af===a){return c(ac)}var ae=null;if(X(ab,33,70)&&X(af,33,126)){ae=D((26+26+126)*(ab-1)+26+26+af-1,f["euc-kr"])}else{if(X(ab,71,126)&&X(af,33,126)){ae=D((26+26+126)*(199-129)+(ab-71)*94+(af-33),f["euc-kr"])}}if(ae!==null){return ae}return c(ac)}}}function L(Z){var ac=Z.fatal;var ab={ASCII:0,lead:1};var aa=false,Y=ab.ASCII;this.encode=function(ai,ad){var ag=ad.get();if(ag===B){return a}if(!aa){aa=true;ai.emit(27,36,41,67)}ad.offset(1);if(X(ag,0,127)&&Y!==ab.ASCII){ad.offset(-1);Y=ab.ASCII;return ai.emit(15)}if(X(ag,0,127)){return ai.emit(ag)}if(Y!==ab.lead){ad.offset(-1);Y=ab.lead;return ai.emit(14)}var ah=r(ag,f["euc-kr"]);if(ah===null){return y(ag)}var af,ae;if(ah<(26+26+126)*(199-129)){af=W(ah,(26+26+126))+1;ae=ah%(26+26+126)-26-26+1;if(!X(af,33,70)||!X(ae,33,126)){return y(ag)}return ai.emit(af,ae)}ah=ah-(26+26+126)*(199-129);af=W(ah,94)+71;ae=ah%94+33;if(!X(af,71,126)||!X(ae,33,126)){return y(ag)}return ai.emit(af,ae)}}z["iso-2022-kr"].getEncoder=function(Y){return new L(Y)};z["iso-2022-kr"].getDecoder=function(Y){return new e(Y)};function k(ac,Z){var ab=Z.fatal;var aa=null,Y=null;this.decode=function(ad){var ag=ad.get();if(ag===a&&aa===null&&Y===null){return B}if(ag===a&&(aa!==null||Y!==null)){return c(ab)}ad.offset(1);if(aa===null){aa=ag;return null}var ae;if(ac){ae=(aa<<8)+ag}else{ae=(ag<<8)+aa}aa=null;if(Y!==null){var af=Y;Y=null;if(X(ae,56320,57343)){return 65536+(af-55296)*1024+(ae-56320)}ad.offset(-2);return c(ab)}if(X(ae,55296,56319)){Y=ae;return null}if(X(ae,56320,57343)){return c(ab)}return ae}}function P(aa,Y){var Z=Y.fatal;this.encode=function(ag,ac){function ab(aj){var ai=aj>>8;var ah=aj&255;if(aa){return ag.emit(ai,ah)}return ag.emit(ah,ai)}var af=ac.get();if(af===B){return a}ac.offset(1);if(X(af,55296,57343)){y(af)}if(af<=65535){return ab(af)}var ae=W((af-65536),1024)+55296;var ad=((af-65536)%1024)+56320;ab(ae);return ab(ad)}}z["utf-16"].getEncoder=function(Y){return new P(false,Y)};z["utf-16"].getDecoder=function(Y){return new k(false,Y)};z["utf-16be"].getEncoder=function(Y){return new P(true,Y)};z["utf-16be"].getDecoder=function(Y){return new k(true,Y)};function H(Y,Z){if(Z.match([255,254])){Z.offset(2);return"utf-16"}if(Z.match([254,255])){Z.offset(2);return"utf-16be"}if(Z.match([239,187,191])){Z.offset(3);return"utf-8"}return Y}function M(Y){var Z=Y.fatal;this.encode=function(ac,aa){var ab=aa.get();if(ab===B){return a}aa.offset(1);if(ab>255){return y(ab)}return ac.emit(ab)}}function h(Y){var Z=Y.fatal;this.decode=function(aa){var ab=aa.get();if(ab===a){return B}aa.offset(1);return ab}}z.binary.getEncoder=function(Y){return new M(Y)};z.binary.getDecoder=function(Y){return new h(Y)};var T="utf-8";function E(Z,Y){if(!this||this===b){return new E(Z,Y)}Z=Z?String(Z):T;Y=Object(Y);this._encoding=K(Z);this._streaming=false;this._encoder=null;this._options={fatal:Boolean(Y.fatal)};if(Object.defineProperty){Object.defineProperty(this,"encoding",{get:function(){return this._encoding.name}})}else{this.encoding=this._encoding.name}return this}E.prototype={encode:function i(ac,ab){ac=ac?String(ac):"";ab=Object(ab);if(!this._streaming){this._encoder=this._encoding.getEncoder(this._options)}this._streaming=Boolean(ab.stream);var Z=[];var aa=l(Z);var ad=p(ac);while(ad.get()!==B){this._encoder.encode(aa,ad)}if(!this._streaming){var Y;do{Y=this._encoder.encode(aa,ad)}while(Y!==a);this._encoder=null}return new Uint8Array(Z)}};function U(Z,Y){if(!this||this===b){return new U(Z,Y)}Z=Z?String(Z):T;Y=Object(Y);this._encoding=K(Z);this._streaming=false;this._decoder=null;this._options={fatal:Boolean(Y.fatal)};if(Object.defineProperty){Object.defineProperty(this,"encoding",{get:function(){return this._encoding.name}})}else{this.encoding=this._encoding.name}return this}U.prototype={decode:function g(Z,ac){if(Z&&!("buffer" in Z&&"byteOffset" in Z&&"byteLength" in Z)){throw new TypeError("Expected ArrayBufferView")}else{if(!Z){Z=new Uint8Array(0)}}ac=Object(ac);if(!this._streaming){this._decoder=this._encoding.getDecoder(this._options)}this._streaming=Boolean(ac.stream);var Y=new Uint8Array(Z.buffer,Z.byteOffset,Z.byteLength);var ae=G(Y);var ab=H(this._encoding.name,ae);if(K(ab)!==this._encoding){throw new Error("BOM mismatch")}var aa=s(),ad;while(ae.get()!==a){ad=this._decoder.decode(ae);if(ad!==null&&ad!==B){aa.emit(ad)}}if(!this._streaming){do{ad=this._decoder.decode(ae);if(ad!==null&&ad!==B){aa.emit(ad)}}while(ad!==B);this._decoder=null}return aa.string()}};b.TextEncoder=b.TextEncoder||E;b.TextDecoder=b.TextDecoder||U}(this));window.PNGDrive=function(b,a){this.VERSION_MAJOR=1;this.VERSION_MINOR=0;this.files=[];this.raw=new Uint8Array(0);if(typeof b!=="undefined"){this.decode(b,a)}};window.PNGDrive.prototype={addFile:function(a){this.files.push({name:a.name,type:a.type,fileRef:a})},addTextFile:function(c,a,b){this.files.push({name:a,type:b,content:TextEncoder("utf-8").encode(c)})},addBinaryFile:function(c,a,b){this.files.push({name:a,type:b,content:c})},removeAll:function(){this.files=[]},removeFileAt:function(a){if(a>=0&&a<this.files.length){this.files.splice(a,1)}},removeFileByName:function(a){for(var b=0;b<this.files.length;b++){if(this.files[b].name==a){this.files.splice(b,1);break}}},getFileCount:function(){return this.files.length},getFileAt:function(a){return(a>=0&&a<this.files.length)?this.files[a]:null},getFileByName:function(a){for(var b=0;b<this.files.length;b++){if(this.files[b].name==a){return this.files[b]}}return null},decode:function(h,q){if(typeof q=="undefined"){q=8}var d=document.createElement("canvas");var r=d.getContext("2d");d.width=h.width;d.height=h.height;r.drawImage(h,0,0);var m=r.getImageData(0,0,h.width,h.height);var b=m.data;var c=b.length;var e=this.raw=new Uint8Array(h.width*h.height*3);var l=0;if(q==8){var k=0;while(l<c){if(b[l+3]==255){e[k++]=b[l++];e[k++]=b[l++];e[k++]=b[l++];l++}else{l+=4}}}else{var n=new PNGDriveBitStream(e);while(l<c){if(b[l+3]==255){n.writeBits(q,b[l++]);n.writeBits(q,b[l++]);n.writeBits(q,b[l++]);l++}else{l+=4}}}if(e[0]==218&&e[1]==218){var p=e[4]|e[5]<<8|e[6]<<16|e[7]<<24;var a=e.subarray(8,8+p);var g=JSON.parse(TextDecoder("utf-8").decode(a));var o=8+p;this.files=[];for(l=0;l<g.files.length;l++){var f=g.files[l];var s=new Uint8Array(f.size);s.set(e.subarray(o,o+f.size));o+=f.size;this.files.push({name:f.name,type:f.type,content:s})}}return this},encode:function(b){var a=this;(function(g){var f=0;var h=a.getFileCount();for(var e=0;e<h;e++){var d=a.files[e];if(d.fileRef){f++;var c=new FileReader();c.onload=(function(i){return function(j){i.content=new Uint8Array(j.target.result);delete i.fileRef;if(--f==0&&e==h){f=-1;g.call(a)}}})(d);c.readAsArrayBuffer(d.fileRef)}}if(f==0){g.call(a)}})(function(){var e=this.getFileCount();if(e>0){var h,i,f;var g={files:[]};var m=0;for(h=0;h<e;h++){f=this.files[h];m+=f.content.byteLength;g.files.push({name:f.name,size:f.content.byteLength,type:f.type})}var c=TextEncoder("utf-8").encode(JSON.stringify(g));var l=c.byteLength;var k=8+l+m;var d=this.raw=new Uint8Array(k);d[0]=d[1]=218;d[2]=this.VERSION_MAJOR;d[3]=this.VERSION_MINOR;d[4]=l&255;d[5]=(l>>8)&255;d[6]=(l>>16)&255;d[7]=(l>>24)&255;d.set(c,8);for(h=0,i=8+c.byteLength;h<e;h++){f=this.files[h];d.set(f.content,i);i+=f.content.byteLength}}else{this.raw=new Uint8Array(0)}if(b){b.call(this)}})},createImage:function(k,l){var b=document.createElement("canvas");var m=b.getContext("2d");if(typeof k=="undefined"){l=8;var h=Math.ceil(Math.sqrt(this.raw.byteLength/3));b.width=h;b.height=h;m.fillRect(0,0,h,h)}else{if(typeof l=="undefined"){l=8}b.width=k.width;b.height=k.height;m.drawImage(k,0,0)}var e=m.getImageData(0,0,b.width,b.height);var a=e.data;var n=a.length;var d=0;if(l==8){var c=0;while(d<n){if(a[d+3]==255){a[d++]=this.raw[c++];a[d++]=this.raw[c++];a[d++]=this.raw[c++];d++}else{d+=4}}}else{var f=new PNGDriveBitStream(this.raw);var g=255^(255>>>(8-l));while(d<n){if(a[d+3]==255){a[d]=(a[d++]&g)|f.readBits(l);a[d]=(a[d++]&g)|f.readBits(l);a[d]=(a[d++]&g)|f.readBits(l);d++}else{d+=4}}}m.putImageData(e,0,0);return b},computeImageCapacity:function(g,h){if(typeof h=="undefined"){h=8}var b=document.createElement("canvas");var j=b.getContext("2d");b.width=g.width;b.height=g.height;j.drawImage(g,0,0);var d=j.getImageData(0,0,b.width,b.height);var a=d.data;var k=a.length;var c=0;var e=0;var f=h*3;while(c<k){if(a[c+3]==255){e+=f}c+=4}return e}};window.PNGDriveBitStream=function(a){this.a=a;this.position=0;this.bitsPending=0};window.PNGDriveBitStream.prototype={writeBits:function(b,a){if(b==0){return}a&=(4294967295>>>(32-b));var c;if(this.bitsPending>0){if(this.bitsPending>b){this.a[this.position-1]|=a<<(this.bitsPending-b);c=b;this.bitsPending-=b}else{if(this.bitsPending==b){this.a[this.position-1]|=a;c=b;this.bitsPending=0}else{this.a[this.position-1]|=a>>(b-this.bitsPending);c=this.bitsPending;this.bitsPending=0}}}else{c=Math.min(8,b);this.bitsPending=8-c;this.a[this.position++]=(a>>(b-c))<<this.bitsPending}b-=c;if(b>0){this.writeBits(b,a)}},readBits:function(e,c){if(typeof c=="undefined"){c=0}if(e==0){return c}var d;var f;if(this.bitsPending>0){var a=this.a[this.position-1]&(255>>(8-this.bitsPending));f=Math.min(this.bitsPending,e);this.bitsPending-=f;d=a>>this.bitsPending}else{f=Math.min(8,e);this.bitsPending=8-f;d=this.a[this.position++]>>this.bitsPending}e-=f;c=(c<<f)|d;return(e>0)?this.readBits(e,c):c},seekTo:function(a){this.position=(a/8)|0;this.bitsPending=a%8;if(this.bitsPending>0){this.bitsPending=8-this.bitsPending;this.position++}}};